(this["webpackJsonp@cloudio/statex-todomvc"]=this["webpackJsonp@cloudio/statex-todomvc"]||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},18:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(10),c=a.n(o),r=a(2),u=a(5),m=a.n(u),i=a(1),s=a(8),d=a(3),p=103;var f=Object(i.atom)({path:["todo","list"],defaultValue:[{id:100,text:"Learn Javascript",isComplete:!0},{id:101,text:"Learn React",isComplete:!0},{id:102,text:"Use CloudIO's StateX"},{id:103,text:"Launch Product"}]}),b=Object(i.action)((function(e,t){(0,e.set)(f,(function(e){return[{id:++p,text:t.trim()||"Empty Todo!"}].concat(Object(d.a)(e))}))})),C=Object(i.action)((function(e,t){var a,n=e.get,l=e.set,o=n(f);a=o.find((function(e){return!e.isComplete}))?o.map((function(e){return e.isComplete?e:Object(s.a)({},e,{isComplete:!0})})):o.map((function(e){return e.isComplete?Object(s.a)({},e,{isComplete:!1}):e})),l(f,a)})),h=Object(i.atom)({path:["todo","filter"],defaultValue:"Show All"}),O=Object(i.selector)({path:["todo","filteredIdAndIndex"],defaultValue:[],get:function(e){var t=e.get,a=t(h),n=t(f),l=n;switch(a){case"Show Completed":l=l.filter((function(e){return e.isComplete}));break;case"Show Uncompleted":l=l.filter((function(e){return!e.isComplete}))}return l.map((function(e){return{id:e.id,index:n.indexOf(e)}}))}}),E=Object(i.selector)({path:["todo","stats"],defaultValue:{totalNum:0,totalCompletedNum:0,totalUncompletedNum:0,percentCompleted:0},get:function(e){var t=(0,e.get)(f),a=t.length,n=t.filter((function(e){return e.isComplete})).length;return{totalNum:a,totalCompletedNum:n,totalUncompletedNum:a-n,percentCompleted:0===a?0:n/a}},shouldComponentUpdate:function(e,t){return!t||e.totalNum!==t.totalNum||e.totalCompletedNum!==t.totalCompletedNum||e.totalUncompletedNum!==t.totalUncompletedNum||e.percentCompleted!==t.percentCompleted}});var j=Object(n.memo)((function(){var e=Object(i.useStateXValue)(E).totalCompletedNum,t=Object(i.useStateXValueSetter)(h),a=Object(i.useStateXCallback)((function(e){var a=e.get,n=e.set,l=a(f).filter((function(e){return!e.isComplete}));n(f,l),t("Show All")}),[]);return e?l.a.createElement("button",{className:"clear-completed",onClick:a},"Clear completed"):null}));var N=Object(n.memo)((function(){var e=Object(i.useStateXValue)(E),t=e.percentCompleted,a=e.totalUncompletedNum,n=Object(i.useStateX)(h),o=Object(r.a)(n,2),c=o[0],u=o[1];return l.a.createElement("footer",{className:"footer"},l.a.createElement("span",{className:"todo-count"},l.a.createElement("strong",null,a)," item left - ".concat(Math.round(100*t),"% complete")),l.a.createElement("ul",{className:"filters"},l.a.createElement("li",null,l.a.createElement("a",{href:"#/",onClick:function(){return u("Show All")},className:m()({selected:"Show All"===c})},"All")),l.a.createElement("li",null,l.a.createElement("a",{href:"#/active",onClick:function(){return u("Show Uncompleted")},className:m()({selected:"Show Uncompleted"===c})},"Active")),l.a.createElement("li",null,l.a.createElement("a",{href:"#/completed",onClick:function(){return u("Show Completed")},className:m()({selected:"Show Completed"===c})},"Completed"))),l.a.createElement(j,null))}));var v=Object(n.memo)((function(e){var t=e.index,a=Object(n.useState)(!1),o=Object(r.a)(a,2),c=o[0],u=o[1],s=Object(i.useStateX)(["todo","list",":index","text"],"",{params:{index:t}}),d=Object(r.a)(s,2),p=d[0],f=d[1],b=Object(i.useStateX)(["todo","list",":index","isComplete"],!1,{params:{index:t}}),C=Object(r.a)(b,2),h=C[0],O=C[1],E=Object(i.useStateXValueRemover)(["todo","list",":index"],{params:{index:t}});return l.a.createElement("li",{className:m()({completed:h,editing:c})},c?l.a.createElement("input",{autoFocus:!0,className:"edit",onBlur:function(){return u(!1)},onChange:function(e){return f(e.target.value)},value:p}):l.a.createElement("div",{className:"view"},l.a.createElement("input",{checked:h,className:"toggle",onChange:function(e){return O(e.target.checked)},type:"checkbox"}),l.a.createElement("label",{onDoubleClick:function(){return u(!0)}},p),l.a.createElement("button",{className:"destroy",onClick:E})))}));var S=Object(n.memo)((function(){var e=Object(i.useStateXValue)(O,{shouldComponentUpdate:function(e,t){return JSON.stringify(e)!==JSON.stringify(t)}});return l.a.createElement(l.a.Fragment,null,e.map((function(e){return l.a.createElement(v,{index:e.index,key:e.id})})))}));var g=Object(n.memo)((function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],o=t[1],c=Object(i.useStateXAction)(b);return l.a.createElement("header",{className:"header"},l.a.createElement("h1",{style:{userSelect:"none"}},"todos"),l.a.createElement("input",{value:a,className:"new-todo",placeholder:"What needs to be done?",onKeyDown:function(e){13===e.keyCode&&(c(a),o(""))},autoFocus:!0,onChange:function(e){return o(e.target.value)}}))}));var x=Object(n.memo)((function(){var e=Object(i.useStateXValue)(E).percentCompleted,t=Object(i.useStateXAction)(C);return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",onChange:t,checked:1!==e}),l.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"))}));a(16),a(17);var k=Object(n.memo)((function(){return l.a.createElement("div",{className:"todoapp"},l.a.createElement(g,null),l.a.createElement("section",{className:"main"},l.a.createElement(x,null),l.a.createElement("ul",{className:"todo-list"},l.a.createElement(S,null))),l.a.createElement(N,null))}));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i.StateXProvider,null,l.a.createElement(k,null))),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.1c6d30ed.chunk.js.map