(this["webpackJsonp@cloudio/statex-todomvc"]=this["webpackJsonp@cloudio/statex-todomvc"]||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},18:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(10),c=a.n(o),r=a(2),u=a(5),m=a.n(u),i=a(1),s=103;var d=Object(i.atom)({path:["todo","list"],defaultValue:[{id:100,text:"Learn Javascript",isComplete:!0},{id:101,text:"Learn React",isComplete:!0},{id:102,text:"Use CloudIO's StateX"},{id:103,text:"Launch Product"}]}),p=Object(i.atom)({path:["todo","filter"],defaultValue:"Show All"}),f=Object(i.selector)({path:["todo","filteredIdAndIndex"],defaultValue:[],get:function(e){var t=e.get,a=t(p),l=t(d),n=l;switch(a){case"Show Completed":n=n.filter((function(e){return e.isComplete}));break;case"Show Uncompleted":n=n.filter((function(e){return!e.isComplete}))}return n.map((function(e){return{id:e.id,index:l.indexOf(e)}}))}}),b=Object(i.selector)({path:["todo","stats"],defaultValue:{totalNum:0,totalCompletedNum:0,totalUncompletedNum:0,percentCompleted:0},get:function(e){var t=(0,e.get)(d),a=t.length,l=t.filter((function(e){return e.isComplete})).length;return{totalNum:a,totalCompletedNum:l,totalUncompletedNum:a-l,percentCompleted:0===a?0:l/a}},shouldComponentUpdate:function(e,t){return!t||e.totalNum!==t.totalNum||e.totalCompletedNum!==t.totalCompletedNum||e.totalUncompletedNum!==t.totalUncompletedNum||e.percentCompleted!==t.percentCompleted}});var C=Object(l.memo)((function(){var e=Object(i.useStateXValue)(b).totalCompletedNum,t=Object(i.useStateXValueSetter)(p),a=Object(i.useStateXCallback)((function(e){var a=e.get,l=e.set,n=a(d).filter((function(e){return!e.isComplete}));l(d,n),t("Show All")}),[]);return e?n.a.createElement("button",{className:"clear-completed",onClick:a},"Clear completed"):null}));var h=Object(l.memo)((function(){var e=Object(i.useStateXValue)(b),t=e.percentCompleted,a=e.totalUncompletedNum,l=Object(i.useStateX)(p),o=Object(r.a)(l,2),c=o[0],u=o[1];return n.a.createElement("footer",{className:"footer"},n.a.createElement("span",{className:"todo-count"},n.a.createElement("strong",null,a)," item left - ".concat(Math.round(100*t),"% complete")),n.a.createElement("ul",{className:"filters"},n.a.createElement("li",null,n.a.createElement("a",{href:"#/",onClick:function(){return u("Show All")},className:m()({selected:"Show All"===c})},"All")),n.a.createElement("li",null,n.a.createElement("a",{href:"#/active",onClick:function(){return u("Show Uncompleted")},className:m()({selected:"Show Uncompleted"===c})},"Active")),n.a.createElement("li",null,n.a.createElement("a",{href:"#/completed",onClick:function(){return u("Show Completed")},className:m()({selected:"Show Completed"===c})},"Completed"))),n.a.createElement(C,null))}));var E=Object(l.memo)((function(e){var t=e.index,a=Object(l.useState)(!1),o=Object(r.a)(a,2),c=o[0],u=o[1],s=Object(i.useStateXForTextInput)(["todo","list",":index","text"],"",{params:{index:t}}),d=Object(i.useStateXForCheckbox)(["todo","list",":index","isComplete"],!1,{params:{index:t}}),p=Object(i.useStateXValueRemover)(["todo","list",":index"],{params:{index:t}});return n.a.createElement("li",{className:m()({completed:d.checked,editing:c})},c?n.a.createElement("input",Object.assign({autoFocus:!0,className:"edit",onBlur:function(e){return u(!1)}},s)):n.a.createElement("div",{className:"view"},n.a.createElement("input",Object.assign({className:"toggle"},d)),n.a.createElement("label",{onDoubleClick:function(e){return u(!0)}},s.value),n.a.createElement("button",{className:"destroy",onClick:p})))}));var O=Object(l.memo)((function(){var e=Object(i.useStateXValue)(f,{shouldComponentUpdate:function(e,t){return JSON.stringify(e)!==JSON.stringify(t)}});return n.a.createElement(n.a.Fragment,null,e.map((function(e){return n.a.createElement(E,{index:e.index,key:e.id})})))})),N=a(3);var j=Object(l.memo)((function(){var e=Object(l.useState)(""),t=Object(r.a)(e,2),a=t[0],o=t[1],c=Object(i.useStateXValueSetter)(d);return n.a.createElement("header",{className:"header"},n.a.createElement("h1",{style:{userSelect:"none"}},"todos"),n.a.createElement("input",{value:a,className:"new-todo",placeholder:"What needs to be done?",onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),c((function(e){return[].concat(Object(N.a)(e),[{id:++s,text:a}])})),o(""))},autoFocus:!0,onChange:function(e){return o(e.target.value)}}))})),v=a(8);var S=Object(l.memo)((function(){var e=Object(i.useStateXValue)(b).percentCompleted,t=Object(i.useStateXCallback)((function(e){var t,a=e.get,l=e.set,n=a(d);t=n.find((function(e){return!e.isComplete}))?n.map((function(e){return e.isComplete?e:Object(v.a)({},e,{isComplete:!0})})):n.map((function(e){return e.isComplete?Object(v.a)({},e,{isComplete:!1}):e})),l(d,t)}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",onChange:t,checked:1!==e}),n.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"))}));a(16),a(17);var g=Object(l.memo)((function(){return n.a.createElement("div",{className:"todoapp"},n.a.createElement(j,null),n.a.createElement("section",{className:"main"},n.a.createElement(S,null),n.a.createElement("ul",{className:"todo-list"},n.a.createElement(O,null))),n.a.createElement(h,null))}));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.StateXProvider,null,n.a.createElement(g,null))),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.76ec4141.chunk.js.map